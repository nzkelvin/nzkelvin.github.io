---
layout: post
comments: true
title:  "Power Platform Dataflow 101"
date:   2024-08-30 08:00:00 +0800
categories: Technology
tags: [Power Platform, Dataflow, Twitter, Facebook, LinkedIn]
sharing:
    twitter: "Power Platform Dataflow 101"
    facebook: "Power Platform Dataflow 101"
    linkedin: "Power Platform Dataflow 101"
---

## What is Power Platform Dataflow?
Dataflow enabled customers to ingest, transform, and load data into Microsoft Dataverse environments.

## User Scenarios
* Data Migration from legacy systems
* Build dimentional model from different transactional data sources
* Load synthetic data in volume

## Technical
### How to Create a Data Flow?
New -> Automation -> Dataflow
![image](../images/2024-08-30-data-flow-101/create-dataflow.png)

### Basic Components of a Data Flow
* Data Sources
* Queries (Location 1 in the screenshot below)
* Data Transformation Steps (Location 2 in screenshot below)
* Queries Results Preview (Location 3 in screenshot below)
* Data Mapping

![image](../images/2024-08-30-data-flow-101/power-query.png)

![image](../images/2024-08-30-data-flow-101/data-map.png)

### Query Execution Order
Within a data flow, you can have multiple queries and they will run in sequence of how they display order.  

### Data Mapping > Lookup Fields
You will need to use alternative key on the referenced table.

![image](../images/2024-08-30-data-flow-101/alternative-key.png)

### Data Mapping > Optionsets
How to do it? Is it the optionset option value (number type)

### Data Mapping > Owner
Dataflows cannot assign records to new owners. All the records will be owned by the owner of the data flow creating them.

### Data Flow > Steps
You are not allowed to import data into the same destination table more than once per dataflow. 

### Data Runs/Refreshes
In the Dataflows world, data runs are call refreshes.

#### Refresh Triggers
You can either trigger a data refersh manually by clicking on the "Refresh" button in the manual.
![image](../images/2024-08-30-data-flow-101/dataflow-manual-refresh.png)

Or setup automatic data refreshes by using refersh settings.
![image](../images/2024-08-30-data-flow-101/dataflow-auto-refresh.png)

#### Refresh History
![image](../images/2024-08-30-data-flow-101/dataflow-refresh-history-action-logs.png)

## Performance
### Power Automate Flow
30 records per minute and 60 records per minutes with two Power Automate Flows running in parallel.

### Dataflow
15,000 records per minute with two Dataflow jobs running in parallel.

## References
* https://learn.microsoft.com/en-us/power-query/dataflows/overview-dataflows-across-power-platform-dynamics-365
* https://learn.microsoft.com/en-us/power-query/add-custom-column